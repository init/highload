# Методические указания
### Требования к формату
Работа оформляется в виде расчетно-пояснительной записки (далее РПЗ) в файле README.md в формате markdown в публичном репозитории на github.com. Ссылка на работу выкладывается в таблицу вариантов домашнего задания.
### Этапность работ
Работа сдается поэтапно согласно графику в таблице курса.
### Общие требования
* Обязателен пронумерованный список источников в конце документа
## 1. Тема и целевая аудитория
Студент должен выбрать тип сервиса, функционал MVP который он будет проектировать и целевую аудиторию (размер и местоположение).
### Требования к теме
* Сервис должен иметь реальные аналоги доказывающие существование рыночной ниши для такого типа сервиса и потенциальный размер аудитории
* Аудитория сервиса должна большой,не менее 1 миллиона активных пользовтелей в месяц, лучше больше
* Сервис должен быть достаточно сложным чтобы его архитектура не была тривиальной (пример тривиальной архитектуры: новостной сайт)
* Тема проекта должна быть уникальна, свободность проверяется по таблице с занятыми вариантами (в порядке очереди)
* Допускается до 3-х сервисов одного типа при условии существенной диверсификации функционала и/или ключевых продуктовых решний (в порядке очереди)
### Рекомендации по выбору темы
* Выбирать сервис для конечного массового пользователя (сайты, мобильные приложения) у которого существенная часть логики приходится на бекенд
* Сервисы для разработчиков вроде GitHub и Cloudflare допустимы но не рекомендуются так как они нерепрезентативны относительно рынка разработки
### Требования к целевой аудитории
* Аудитория должна быть достаточно большой чтобы сервис получился высоконагруженным. Минимум - 1 млн пользователей в день. Рекомендуемое значение - аудитория реального аналога, общемировая или на локальном рынке где вы создаете клон.
* Необходимо указать размер и местоположение целевой аудитории (Примеры: 100 млн в месяц Россия, 200 млн в месяц Северная Америка и Европа)
### Требования к функционалу
* Необходимо выделить ключевой функционал сервиса который вы будете проектировать (пример: передача сообщений в месенджере)
* Необходимо описать ключевые продуктовые решения (пример: в мессенджере сообщения хранятся только на клиенте как в WhatsApp)
* Рекомендуется урезать функционал до уровня MVP чтобы проектировать ключевую часть системы без распыления на вспомогательные службы
* Ожидается 3-7 ключевых функций характеризующих сервис (пример: отправка сообщения, чтение чата, список чатов, поиск по чатам, серверная история, вложения: фото/видео/голос/файлы)
## 2. Расчет нагрузки
Необходимо пересчитать аудиторные метрики в ключевые продуктовые и технические метрики.
### Продуктовые метрики
* Месячная аудитория - обязательно
* Дневная аудитория - обязательно
* Средний размер хранилища пользователя в штуках и гигабайтах (по типам, там где существенно)
* Среднее количество действий пользователя по типам в день (типы запросов выбираем на основании выбраного функционала MVP)
#### Требования к оформлению
Оформить метрики в виде сводной таблицы.
#### Требования к источникам
Не разрешается использовать данные similarweb.com как первоисточник данных из-за слишком большой погрешности измерения.
Для перепечаток искать и приводить оригинал.
### Технические метрики
* Размер хранения в разбивке по типам данных (в штуках и в Тб) - для существенных блоков данных
* Сетевой трафик
  * Пиковое потребление в теченнии суток (в Гбит/с) - разбивка по существенным типам трафика (для выбора сетевых интерфейсов)
  * Суммарный суточный (Гбайт/сутки) - разбивка по существенным типам трафика (опционально, для подсчета стоимости хостинга)
* RPS в разбивке по типам запросов (запросов в секунду) - для основных запросов
#### Требования к оформлению
Оформить RPS по методам средний и пиковый в виде сводной таблицы.
## 3. Глобальная балансировка нагрузки
* Функциональное разбиение по доменам (при наличии, нужно для следующего пункта)
* Обоснования расположения ДЦ (влияние на продуктовые метрики0
* Расчет распределение запросов из секции "Расчет нагрузки" по типам запросов по датацентрам
* Схема DNS балансировки (при наличии)
* Схема Anycast балансировки (при наличии)
* Механизм регулировки трафика между ДЦ (при наличии)
## 4. Локальная балансировка нагрузки
## 5. Логическая схема БД
### Формат
* Картинка со списком таблиц, полей и связей между ними без привязки к конкретным базам и шардингу
* Таблица с описанием таблиц
### Требования
* Все данные включая "файловые", кеши и буферы
* Размеры данных (строки, байты) и нагрузки (QPS) на чтение/запись
* Указать требования к конситентности
* Указать особенности распределения нагрузки по ключам
## 6. Физическая схема БД
### Формат
* Картинка со списком таблиц, полей и связей между ними с привязкой к конкретным базам, с указанием индексов и схемы шардинга
* Таблица с оисанием таблиц
## Требования
* Индексы
* Денормализация
* Выбор СУБД (потаблично)
* Шардирование и резервирование СУБД (потаблично)
* Клиентские библиотеки / интеграции
* Балансировка запросов / мультиплексирование подключений
* Схема резервного копирования
## 7. Алгоритмы
#### Формат
Сводная таблица: алгоритм, область примемения, мотивационная часть
## 8. Технологии
#### Формат
Сводная таблица: технология, область примерения, мотивационная часть
## 9. Обеспечение надёжности
#### Формат
Сводная таблица по всем компонетам системы с указанием способов резервирования
## 10. Схема проекта
#### Формат
* Схема взаимодействия сервисов внутри проекта (картинка).
* Пояснения к схеме
#### Требования
Должно быть описано как ходят потоки данных, как устроена балансировка (внутренняя и внешняя).
## 11. Список серверов
Таблица с конфигурациями, количеством серверов и сервисами расположенными на них. В случае использования kubernetes или иной виртуализации, список контейнеров с аллокацией ресурсов.
